<button
	id="theme-toggle"
	type="button"
	class="flex text-sm text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300"
	aria-label="Toggle dark mode"
>
	{
		/* https://www.figma.com/file/UxOFYfI5FoLEuDgmRwHnoM/Flowbite-Design-System-(Community)?type=design&node-id=725-18218&mode=design&t=Hbbm5ozg6Se4jD1S-4 */
	}
	<svg
		id="theme-toggle-dark-icon"
		class="hidden h-5 w-5"
		aria-hidden="true"
		width="24"
		height="24"
		viewBox="0 0 24 24"
		fill="currentColor"
		xmlns="http://www.w3.org/2000/svg"
	>
		<path
			d="M19.8247 17.2123C18.7145 17.1858 17.6202 16.932 16.6044 16.4652C15.5886 15.9985 14.6713 15.328 13.9049 14.4922C13.1385 13.6564 12.5381 12.6716 12.138 11.5942C11.738 10.5167 11.5461 9.36787 11.5734 8.21326C11.6048 7.06909 11.8534 5.94267 12.3051 4.89888C12.7568 3.85509 13.4026 2.91455 14.2053 2.13143C13.7928 2.0624 13.3766 2.02066 12.959 2.00644C11.6915 1.9591 10.4275 2.17309 9.23981 2.63606C8.05213 3.09904 6.96428 3.80186 6.03892 4.70402C5.11357 5.60619 4.369 6.68987 3.84812 7.89263C3.32724 9.09539 3.04034 10.3935 3.00396 11.7121C2.96757 13.0306 3.18241 14.3437 3.63611 15.5755C4.08981 16.8074 4.77339 17.9337 5.64747 18.8896C6.52155 19.8455 7.56885 20.612 8.72904 21.1451C9.88923 21.6781 11.1394 21.9671 12.4074 21.9955C14.1232 22.0488 15.822 21.6287 17.3312 20.7781C18.8404 19.9274 20.1062 18.6765 21 17.1523C20.61 17.2006 20.2173 17.2207 19.8247 17.2123Z"
		></path>
	</svg>
	{
		/* https://www.figma.com/file/UxOFYfI5FoLEuDgmRwHnoM/Flowbite-Design-System-(Community)?type=design&node-id=725-18246&mode=design&t=Hbbm5ozg6Se4jD1S-4 */
	}
	<svg
		id="theme-toggle-light-icon"
		class="hidden h-5 w-5"
		aria-hidden="true"
		width="24"
		height="24"
		viewBox="0 0 24 24"
		fill="currentColor"
		xmlns="http://www.w3.org/2000/svg"
	>
		<path
			d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z"
		></path>
		<path
			d="M12 6C12.2652 6 12.5196 5.89464 12.7071 5.70711C12.8946 5.51957 13 5.26522 13 5V3C13 2.73478 12.8946 2.48043 12.7071 2.29289C12.5196 2.10536 12.2652 2 12 2C11.7348 2 11.4804 2.10536 11.2929 2.29289C11.1054 2.48043 11 2.73478 11 3V5C11 5.26522 11.1054 5.51957 11.2929 5.70711C11.4804 5.89464 11.7348 6 12 6Z"
		></path>
		<path
			d="M12 18C11.7348 18 11.4804 18.1054 11.2929 18.2929C11.1054 18.4804 11 18.7348 11 19V21C11 21.2652 11.1054 21.5196 11.2929 21.7071C11.4804 21.8946 11.7348 22 12 22C12.2652 22 12.5196 21.8946 12.7071 21.7071C12.8946 21.5196 13 21.2652 13 21V19C13 18.7348 12.8946 18.4804 12.7071 18.2929C12.5196 18.1054 12.2652 18 12 18Z"
		></path>
		<path
			d="M6.343 7.757C6.5316 7.93916 6.7842 8.03995 7.0464 8.03767C7.3086 8.0354 7.55941 7.93023 7.74482 7.74482C7.93023 7.55941 8.0354 7.3086 8.03767 7.0464C8.03995 6.7842 7.93916 6.5316 7.757 6.343L6.343 4.929C6.1544 4.74684 5.9018 4.64605 5.6396 4.64833C5.3774 4.6506 5.12659 4.75577 4.94118 4.94118C4.75577 5.12659 4.6506 5.3774 4.64833 5.6396C4.64605 5.9018 4.74684 6.1544 4.929 6.343L6.343 7.757Z"
		></path>
		<path
			d="M17.657 16.243C17.4684 16.0608 17.2158 15.96 16.9536 15.9623C16.6914 15.9646 16.4406 16.0698 16.2552 16.2552C16.0698 16.4406 15.9646 16.6914 15.9623 16.9536C15.96 17.2158 16.0608 17.4684 16.243 17.657L17.657 19.071C17.8456 19.2532 18.0982 19.354 18.3604 19.3517C18.6226 19.3494 18.8734 19.2442 19.0588 19.0588C19.2442 18.8734 19.3494 18.6226 19.3517 18.3604C19.354 18.0982 19.2532 17.8456 19.071 17.657L17.657 16.243Z"
		></path>
		<path
			d="M6 12C6 11.7348 5.89464 11.4804 5.70711 11.2929C5.51957 11.1054 5.26522 11 5 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H5C5.26522 13 5.51957 12.8946 5.70711 12.7071C5.89464 12.5196 6 12.2652 6 12Z"
		></path>
		<path
			d="M21 11H19C18.7348 11 18.4804 11.1054 18.2929 11.2929C18.1054 11.4804 18 11.7348 18 12C18 12.2652 18.1054 12.5196 18.2929 12.7071C18.4804 12.8946 18.7348 13 19 13H21C21.2652 13 21.5196 12.8946 21.7071 12.7071C21.8946 12.5196 22 12.2652 22 12C22 11.7348 21.8946 11.4804 21.7071 11.2929C21.5196 11.1054 21.2652 11 21 11Z"
		></path>
		<path
			d="M6.343 16.243L4.929 17.657C4.83349 17.7492 4.75731 17.8596 4.7049 17.9816C4.65249 18.1036 4.6249 18.2348 4.62375 18.3676C4.6226 18.5004 4.6479 18.6321 4.69818 18.755C4.74846 18.8778 4.82271 18.9895 4.9166 19.0834C5.0105 19.1773 5.12215 19.2515 5.24505 19.3018C5.36794 19.3521 5.49962 19.3774 5.6324 19.3763C5.76518 19.3751 5.8964 19.3475 6.0184 19.2951C6.14041 19.2427 6.25075 19.1665 6.343 19.071L7.757 17.657C7.93916 17.4684 8.03995 17.2158 8.03767 16.9536C8.0354 16.6914 7.93023 16.4406 7.74482 16.2552C7.55941 16.0698 7.3086 15.9646 7.0464 15.9623C6.7842 15.96 6.5316 16.0608 6.343 16.243Z"
		></path>
		<path
			d="M16.95 8.05C17.2152 8.04994 17.4695 7.94455 17.657 7.757L19.071 6.343C19.1665 6.25075 19.2427 6.14041 19.2951 6.0184C19.3475 5.8964 19.3751 5.76518 19.3763 5.6324C19.3774 5.49962 19.3521 5.36794 19.3018 5.24505C19.2515 5.12215 19.1773 5.0105 19.0834 4.9166C18.9895 4.82271 18.8778 4.74846 18.755 4.69818C18.6321 4.6479 18.5004 4.6226 18.3676 4.62375C18.2348 4.6249 18.1036 4.65249 17.9816 4.7049C17.8596 4.75731 17.7492 4.83349 17.657 4.929L16.243 6.343C16.1032 6.48285 16.008 6.66102 15.9694 6.85497C15.9308 7.04892 15.9507 7.24995 16.0263 7.43265C16.102 7.61535 16.2301 7.77152 16.3945 7.8814C16.559 7.99129 16.7523 8.04996 16.95 8.05Z"
		></path>
	</svg>
</button>

<script>
	const element = document.documentElement;
	const lightIcon = document.getElementById("theme-toggle-light-icon");
	const darkIcon = document.getElementById("theme-toggle-dark-icon");

	const theme = (() => {
		if (
			typeof localStorage !== "undefined" &&
			localStorage.getItem("color-theme")
		) {
			return localStorage.getItem("color-theme");
		}
		if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
			return "dark";
		}
		return "light";
	})();

	if (theme === "light") {
		element?.classList.remove("dark");
		darkIcon?.classList.remove("hidden");
	} else {
		element?.classList.add("dark");
		lightIcon?.classList.remove("hidden");
	}

	if (theme) window.localStorage.setItem("color-theme", theme);

	const handleToggleClick = () => {
		element?.classList.toggle("dark");
		lightIcon?.classList.toggle("hidden");
		darkIcon?.classList.toggle("hidden");

		const isDark = element?.classList.contains("dark");
		localStorage.setItem("color-theme", isDark ? "dark" : "light");
	};

	document
		.getElementById("theme-toggle")
		?.addEventListener("click", handleToggleClick);
</script>
